---
title: 'Authorization Flow'
description: 'Allow your users to connect their SID account to your application.'
---
## Overview
The OAuth2.0 authentication flow is a standard protocol for allowing users to connect their accounts from one application to another.
SID uses this protocol to securely give your application access to the user's SID account.
It involves the following steps:

1. **Authorization Link:** 
In your application, the user clicks a special authorization link which is specific to your application. 
They are taken to the SID dashboard to authenticate.

2. **Redirect:** 
After the user logs in and grants access permissions to your application, SID redirects them back to your application with an authorization code. 
They are redirected to a previously specified URI, such as `https://example.com/callback`. This URI is specific to your application, too.

3. **Tokens Issued:** 
Your application makes a POST request to SID's token endpoint with the authorization code,
client ID, and client secret, and receives an access token and refresh token in response.

Once you have the access token, you can use it to make requests to the SID API on behalf of the user.

## Client Credentials
Before you can initiate the authorization flow, you must register your application with SID to receive your [client credentials](/auth/credentials).
These credentials are used to identify your application when performing the authorization flow.

You will receive these credentials during our onboarding process. 
In the future, you will be able to register your application through the SID developer dashboard.

## Initiate Flow
The authorization flow is initiated by redirecting a user to an authorization URL, of the form 
```bash
https://me.sid.ai/api/auth/login?returnTo=...
``` 
Usually, this will happen through a button or link in your application, which could be located
in a settings page, or on the user's profile page.

The authorization URL is specific to your application, and is generated by SID. We will provide you with the URL during our onboarding process.

## Callback
The authorization URL will redirect the user to the SID dashboard, where they will be prompted to log in and grant access permissions to your application.
Once they have done so, they will be redirected back to your application with an authorization code. You will need to provide a callback URL to receive this code.

For example, if your application is hosted at `https://example.com`, you could specify a callback URL of `https://example.com/callback`. You should then handle
incoming `POST` requests to this URL to receive the authorization code, and perform the token exchange. The following code snippet shows an example of how
this might be done in Next.js:

```js
import { NextApiRequest, NextApiResponse } from 'next';
import axios from 'axios';

export default async function handler(req: NextApiRequest, res: NextApiResponse) {
    // get authorization code from query string
    let code = req.query.code;

    // construct data to send to SID
    const data = {
        grant_type: 'authorization_code',
        client_id: process.env.SID_CLIENT_ID,
        client_secret: process.env.SID_CLIENT_SECRET,
        redirect_uri: process.env.SID_REDIRECT_URI,
        code: code,
    };

    // send request to SID token endpoint
    const response = await axios.post('https://auth.sid.ai/oauth/token', data);

    // extract tokens from response
    const {
        access_token, 
        refresh_token, 
        scope, 
        expires_in,
        token_type, 
    } = response.data;

    // Insert refresh_token into your database
    db.insert(session.user, refresh_token);
}

```
Of course, you can implement this in any language or framework you like.

The above example also shows the token exchange, which is the next step in the authorization flow.
It consists of a simple `POST` request to the SID token endpoint, with the authorization code, client ID, and client secret.
In response, you will receive an access token and refresh token, which you can use to make requests to the SID API on behalf of the user.



